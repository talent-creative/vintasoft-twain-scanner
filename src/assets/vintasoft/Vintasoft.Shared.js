// Copyright 2014-2023 VintaSoft Ltd. All rights reserved.
// This software is protected by International copyright laws.
// Any copying, duplication, deployment, redistribution, modification or other
// disposition hereof is STRICTLY PROHIBITED without an express written license
// granted by VintaSoft Ltd. This notice may not be removed or otherwise
// altered under any circumstances.
// This code may NOT be used apart of the VintaSoft product.
var Vintasoft;
(function(v){if(void 0==v.version)v.version="3.4.0.1";else if("3.4.0.1"!==v.version)throw Error("Wrong script version.");v.Shared=v.Shared||(v.Shared={});(function(g){function X(a){function c(){}c.prototype=a;return new c}Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,c){var d;if(null==this)throw new TypeError("'this' is null or not defined");var b=Object(this),h=b.length>>>0;if(0===
h)return-1;d=+c||0;Infinity===Math.abs(d)&&(d=0);if(d>=h)return-1;for(d=Math.max(0<=d?d:h-Math.abs(d),0);d<h;){if(d in b&&b[d]===a)return d;d++}return-1});Math.trunc||(Math.trunc=function(a){a=+a;return a-a%1||(isFinite(a)&&0!==a?0>a?-0:0:a)});g._361=function(a){if(null==a||0==a.length||""==a)return a;if(a.trim)return a.trim();for(var c=0,d=0;d<a.length&&" "==a[d];d++)c++;0<c&&(a=a.substring(c));for(var b=a.length-1,d=a.length-1;0<=d&&" "==a[d];d--)b--;b<a.length-1&&(a=a.substring(0,c));return a};
g.extend=function(a,c){a.prototype=X(c.prototype);a.prototype.constructor=a;a.superclass=c.prototype};g.cloneObject=function(){for(var a={},c=0;c<arguments.length;c++)for(var d in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],d)&&(a[d]=arguments[c][d]);return a};g.triggerEvent=function(a,c,d){if(null==a)throw Error("Object cannot be null.");if(null==c)throw Error("Event name cannot be null.");g.suf20(a,c,d)};g.subscribeToEvent=function(a,c,d){if(null==a)throw Error("Object cannot be null.");
if(null==c)throw Error("Event name cannot be null.");if(null==d)throw Error("Event handler cannot be null.");g.suf21(a,c,d)};g.subscribeToEventOnce=function(a,c,d){if(null==a)throw Error("Object cannot be null.");if(null==c)throw Error("Event name cannot be null.");if(null==d)throw Error("Event handler cannot be null.");g.suf25(a,c,d)};g.unsubscribeFromEvent=function(a,c,d){if(null==a)throw Error("Object cannot be null.");g.suf31(a,c,d)};g.suf20=function(a,c,d){var b=a._vsJsEvents;if(null!=b){var h=
b[c];if(null!=h&&Array.isArray(h)){for(var f=[],e=0;e<h.length;e++)f.push(h[e]);for(e=0;e<f.length;e++)b=f[e],h={},h.target=a,h.data=b.data,h.type=c,null==d?b.handler.call(a,h):b.handler.call(a,h,d)}}b=a._vsJsEventsOnce;if(null!=b&&(h=b[c],null!=h&&Array.isArray(h))){f=[];for(e=0;e<h.length;e++)f.push(h[e]);delete b[c];b[c]=null;for(e=0;e<f.length;e++)b=f[e],h={},h.target=a,h.data=b.data,h.type=c,null==d?b.handler.call(a,h):b.handler.call(a,h,d)}};g.suf21=function(a,c,d){g.suf24(a,c,null,d,null)};
g.suf22=function(a,c,d,b){g.suf24(a,c,null,d,b)};g.suf23=function(a,c,d,b){g.suf24(a,c,d,b,null)};g.suf24=function(a,c,d,l,h){b.isf(l);if(a.nodeType){var f=function(k){var c={};c.data=d;c.originalEvent=k;c.target=k.target;c.pageX=k.pageX;c.pageY=k.pageY;l.call(a,c);null!=e&&e.call(a,k)},e=null;a.addEventListener(c,f);"change"==c&&(e=a.onchange,a.onchange=f);null==a._vsDomEvents&&(a._vsDomEvents=[]);var k=a._vsDomEvents;null==k[c]&&(k.push(c),k[c]=[]);h={handler:f,data:d,namespace:h};"change"==c&&
(h.oldOnChange=e);k[c].push(h)}else null==a._vsJsEvents&&(a._vsJsEvents=[]),k=a._vsJsEvents,null==k[c]&&(k.push(c),k[c]=[]),k[c].push({handler:l,data:d,namespace:h})};g.suf25=function(a,c,b){g.suf28(a,c,null,b,null)};g.suf26=function(a,c,b,l){g.suf28(a,c,null,b,l)};g.suf27=function(a,c,b,l){g.suf28(a,c,b,l,null)};g.suf28=function(a,c,d,l,h){b.isf(l);if(a.nodeType){var f=function(b){a.removeEventListener(c,f);e&&(a.onchange=k);var m={};m.data=d;m.originalEvent=b;m.target=b.target;m.pageX=b.pageX;m.pageY=
b.pageY;l.call(a,m);null!=k&&k.call(a,b)},e=!1,k=null;a.addEventListener(c,f);"change"==c&&(e=!0,k=a.onchange,a.onchange=f)}else{null==a._vsJsEventsOnce&&(a._vsJsEventsOnce=[]);var m=a._vsJsEventsOnce;null==m[c]&&(m.push(c),m[c]=[]);m[c].push({handler:l,data:d,namespace:h})}};g.suf29=function(a){g.suf34(a,null,null,null)};g.suf30=function(a,c){g.suf34(a,c,null,null)};g.suf31=function(a,c,b){g.suf34(a,c,b,null)};g.suf32=function(a,c,b){g.suf34(a,c,null,b)};g.suf33=function(a,c){g.suf34(a,null,null,
c)};g.suf34=function(a,c,b,l){if(a.nodeType)if(null==c&&null==l){if(null!=a._vsDomEvents){b=a._vsDomEvents;for(var h=0;h<b.length;h++){for(var f=b[c],e=0;e<f.length;e++){var k=f[e];a.removeEventListener(c,k.handler);"change"==c&&(a.onchange=k.oldOnChange);delete f[e];f.splice(e,1);e--}delete b[c];b.splice(h,1);h--}delete a._vsDomEvents}}else if(null!=c&&null==l){if(null!=a._vsDomEvents&&(b=a._vsDomEvents,null!=b[c]))for(h=0;h<b.length;h++)if(b[h]==c){f=b[c];for(e=0;e<f.length;e++)k=f[e],a.removeEventListener(c,
k.handler),"change"==c&&(a.onchange=k.oldOnChange),delete f[e],f.splice(e,1),e--;delete b[c];b.splice(h,1);break}}else if(null==c&&null!=l){if(null!=a._vsDomEvents)for(b=a._vsDomEvents,h=0;h<b.length;h++){for(var m=b[h],f=b[m],e=0;e<f.length;e++)k=f[e],k.namespace==l&&(a.removeEventListener(c,k.handler),"change"==c&&(a.onchange=k.oldOnChange),delete f[e],f.splice(e,1),e--);0==f.length&&(delete b[m],b.splice(h,1),h--)}}else{if(null!=a._vsDomEvents)for(b=a._vsDomEvents,h=0;h<b.length;h++)if(m=b[h],
c==m){f=b[m];for(e=0;e<f.length;e++)k=f[e],k.namespace==l&&(a.removeEventListener(c,k.handler),"change"==c&&(a.onchange=k.oldOnChange),delete f[e],f.splice(e,1),e--);0==f.length&&(delete b[m],b.splice(h,1));break}}else if(null==c&&null==l)null!=a._vsJsEvents&&delete a._vsJsEvents;else if(null!=c&&null==l){if(null!=a._vsJsEvents&&(b=a._vsJsEvents,null!=b[c]))for(h=0;h<b.length;h++)if(b[h]==c){delete b[c];b.splice(h,1);break}}else if(null==c&&null!=l){if(null!=a._vsJsEvents)for(b=a._vsJsEvents,h=0;h<
b.length;h++){m=b[h];f=b[m];for(e=0;e<f.length;e++)f[e].namespace==l&&(delete f[e],f.splice(e,1),e--);0==f.length&&(delete b[m],b.splice(h,1),h--)}}else if(null!=a._vsJsEvents)for(b=a._vsJsEvents,h=0;h<b.length;h++)if(m=b[h],c==m){f=b[m];for(e=0;e<f.length;e++)f[e].namespace==l&&(delete f[e],f.splice(e,1),e--);0==f.length&&(delete b[m],b.splice(h,1));break}};g.suf35=function(a){if(null==a)throw Error("Element cannot be null.");var b=[];for(a=a&&a.parentElement;a;a=a.parentElement)b.push(a);return b};
g.suf36=function(a,b){if(null==a)throw Error("Element cannot be null.");if(null==b)throw Error("Class name cannot be null.");for(var d=[],l=a&&a.parentElement;l;l=l.parentElement)g.suf47(l,b)&&d.push(l);return d};g.suf37=function(a,b){if(null==a)throw Error("Element cannot be null.");if(null==b)throw Error("Attribute name cannot be null.");for(var d=[],l=a&&a.parentElement;l;l=l.parentElement)l.hasAttribute(b)&&d.push(l);return d};g.suf38=function(a){null!=a.remove?a.remove():a.parentNode.removeChild(a)};
g.suf39=function(a){for(;a.firstChild;)a.removeChild(a.lastChild)};g.suf40=function(a,b){b.parentNode.insertBefore(a,b)};g.suf41=function(a,b){b.parentNode.insertBefore(a,b.nextSibling)};g.suf42=function(a,b){a.insertBefore(b,a.firstChild)};g.suf43=function(a){if(!a.getClientRects().length)return{top:0,left:0};var b=a.getBoundingClientRect();a=a.ownerDocument.defaultView;return{top:b.top+a.pageYOffset,left:b.left+a.pageXOffset}};g.suf44=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};
g.suf45=function(a,b){return a.querySelector(b)};g.suf46=function(a,b){return a.querySelectorAll(b)};g.suf47=function(a,b){if(a.classList&&a.classList.contains)return a.classList.contains(b);var d=g._361(a.className);return null==d?!1:d==b?!0:d.length<=b.length?!1:d.substring(0,b.length+1)==b+" "||d.substring(d.length-b.length-1)==" "+b||d.replace(" "+b+" "," ")!=d?!0:!1};g.suf48=function(a,b){var d=g._361(a.className);a.className=null==d||0==d.length?b:d+" "+b};g.suf49=function(a,b){if(a.classList&&
a.classList.contains)a.classList.remove(b);else{var d=g._361(a.className);null!=d&&(d==b?a.className="":d.length<=b.length||(d.substring(0,b.length+1)==b+" "?a.className=g._361(d.substring(b.length+1)):d.substring(d.length-b.length-1)==" "+b?a.className=g._361(d.substring(0,d.length-b.length-1)):a.className=g._361(d.replace(" "+b+" "," "))))}};g.suf50=function(a,b){g.suf47(a,b)?g.suf49(a,b):g.suf48(a,b)};g.suf51=function(a,b){for(var d=[],l=0;l<a.children.length;l++)a.children[l].nodeName.toLowerCase()==
b&&d.push(a.children[l]);return d};g.suf52=function(a){if(!a.getClientRects().length)return{top:0,left:0};var b=a.getBoundingClientRect();a=a.ownerDocument.defaultView;return{top:b.top+a.pageYOffset,left:b.left+a.pageXOffset}};g.suf53=function(a){return{left:a.offsetLeft,top:a.offsetTop}};g.suf54=function(a){return a.getBoundingClientRect().width};g.suf55=function(a){return a.getBoundingClientRect().height};g.suf56=function(a){return a.cloneNode(!0)};g.suf57=function(a){return a.contentDocument||
a.contentWindow.document};g.suf58=function(a){return 0==a.offsetWidth&&0==a.offsetHeight||a.style&&"none"===a.style.display?!1:!0};g.suf59=function(a){return window.getComputedStyle(a)};var b=function(){};b.te=function(a){throw Error(a);};b.tae=function(){b.te("Argument type exception.")};b.toe=function(){b.te("Argument out of range exception.")};b.tne=function(){b.te("Not implemented exception.")};b.tie=function(){b.te("Invalid operation exception.")};b.tof=function(a,b){return typeof a===b};b.iss=
function(a){return b.tof(a,"string")};b.isn=function(a){return b.tof(a,"number")};b.isb=function(a){return b.tof(a,"boolean")};b._370=function(a){return b.tof(a,"object")};b.isf=function(a){return b.tof(a,"function")};b.n=function(){for(var a=0;a<arguments.length;a++){var c=arguments[a];b.isn(c)&&!isNaN(c)||b.tae()}};b.b=function(){for(var a=0;a<arguments.length;a++)b.isb(arguments[a])||b.tae()};b.d=function(a){b.ic(a,Date)||(a=Date.parse(a),isNaN(a)&&b.tae(),a=new Date(a));return a};b.s=function(){for(var a=
0;a<arguments.length;a++)b.iss(arguments[a])||b.tae()};b.sz=function(){for(var a=0;a<arguments.length;a++){var c=arguments[a];b.n(c.width);b.n(c.height)}};b.p=function(){for(var a=0;a<arguments.length;a++){var c=arguments[a];b.n(c.x);b.n(c.y)}};b.r=function(){for(var a=0;a<arguments.length;a++){var c=arguments[a];b.p(c);b.sz(c)}};b.e=function(a,c){var d=b.ic(a,G)?a.valueOf():a;return new c(d)};b.ic=function(a,b){return a instanceof b};b.c=function(a,c,d){b.ic(a,c)||(null!=d?b.te(d):b.tae())};b.ad=
function(a,c){Array.isArray(a)||b.tae();if(null!=c)for(var d=0;d<a.length;d++)c(a[d])};b.ac=function(a,c){b.ad(a,function(a){b.c(a,c)})};b.f=function(a,c){b.isf(a)||(null!=c?b.te(c):b.tae())};var G=function(){var a=G.prototype;a.getAllAvailableNames=function(){};a.getAllAvailableValues=function(){};a.valueOf=function(){};a.toString=function(){};a.equals=function(a){};a.isFlagged=function(){return!1}},N=function(){var a=N.prototype;a.toArray=function(){};a.contains=function(a){};a.add=function(a){};
a.remove=function(a){};a.isFlagged=function(){return!0}};g.extend(N,G);var H=function(){};H.create=function(a,c){function d(a,b){var k=[];if(null!=f[b])k.push(f[b]);else for(var m=1;m<=e;)0!==h(b,m)&&k.push(f[m]),m*=2;return k.join("|")}function l(a){return{low:a%4294967296|0,high:a/4294967296|0}}function h(a,e){var b=l(a),k=l(e);return 4294967296*(b.high&k.high)+((b.low&k.low)>>>0)}for(var f={},e=0,k=0;k<a.length;k++){var m=a[k],n,u;if(b.iss(m.name)&&b.isn(m.value))n=m.value,u=m.name;else for(var t in m){b.iss(t)?
(u=t,n=m[t]):b.isn(t)&&(n=t,u=m[t]);break}b.isn(n)&&b.iss(u)||b.te("Enum item must be an object with string name and numeric value.");f[u]=n;f[n]=u}Object.freeze&&Object.freeze(f);if(c)for(k in f)isNaN(+k)||(m=parseInt(k),0!==m&&0===h(m,m-1)&&(e+=m));else for(k in f)isNaN(+k)||(m=parseInt(k),m>e&&(e=m));var w=function(a){if(b.iss(a)){var k=+a;if(isNaN(k))if(null==f[a]){k=0;a=a.split("|");for(var m=0;m<a.length;m++)k+=f[a[m]];a=k}else a=f[a];else a=k}a>e&&b.tae();k=f[a];null==k&&c&&(k=d(this,a));null!=
k&&""!==k||b.tae();this[this[k]=+a]=k};c?g.extend(w,N):g.extend(w,G);k=w.prototype;k.getAllAvailableNames=function(){var a=[],e;for(e in f)isNaN(+e)&&a.push(e);return a};k.getAllAvailableValues=function(){var a=[],e;for(e in f)isNaN(+e)&&null!=f[e]&&a.push(f[e]);return a};k.valueOf=function(){for(var a in this){var e=+a;if(!isNaN(e))return e}};k.toString=function(){return d(this,this.valueOf())};c&&(k.toArray=function(){var a=this.valueOf(),b=[];if(0===a&&null!=f[a])b.push(new w(0));else for(var k=
1;k<=e;){if(0!==h(a,k))try{b.push(new w(k))}catch(m){}k*=2}return b},k.contains=function(a){var e=this.valueOf();b.iss(a)&&(a=f[a]);return h(e,a)===a+0},k.add=function(a){var e=this.valueOf();b.iss(a)&&(a=f[a]);e=l(e);a=l(a);return new w(4294967296*(e.high|a.high)+((e.low|a.low)>>>0))},k.remove=function(a){var e=this.valueOf();b.iss(a)&&(a=f[a]);var k=a;a=l(e);k=l(k);return new w(h(4294967296*(a.high^k.high)+((a.low^k.low)>>>0),e))});k.equals=function(a){var e=this.valueOf();b.iss(a)&&(a=f[a]);return e===
a+0};k.isFlagged=function(){return c};return w};var T=H.create([{Undefined:0},{Indexed1:1},{BlackWhite:2},{Indexed4:4},{Indexed8:8},{Gray8:9},{Bgr555:14},{Bgr565:15},{Gray16:16},{Bgr24:24},{Bgr32:32},{Bgra32:33},{Bgr48:48},{Bgra64:64}],!1),K=H.create([{Bilinear:3},{Bicubic:4},{NearestNeighbor:5},{HighQualityBilinear:6},{HighQualityBicubic:7}],!1),L=H.create([{None:3},{AntiAlias:4}],!1),F=H.create([{Url:1},{Base64:2}],!1),x=function(){};x._474=null;x.get_SessionId=function(){return x._474};x.set_SessionId=
function(a){null!=x._474&&b.te("Session identifier already initialized.");/^[\w,-]+$/.test(a)||b.te("Unsupported session identifier format: Identifier can contain only latin letters, numbers, '_' and '-' symbols.");x._474=a};x.get_ScrollSize=function(a){null==a&&(a=document.body);var b=document.createElement("div");a.appendChild(b);var d=b.style;d.overflow="scroll";d.visibility="hidden";d.position="absolute";d.width="100px";d.height="100px";d=b.offsetWidth-b.clientWidth;0>d&&(d=100-b.clientWidth);
a.removeChild(b);return d};x.getScreenDpi=function(){var a=document.createElement("div");document.body.appendChild(a);var b=a.style;b.position="absolute";b.top="-100%";b.left="-100%";b.width="1in";b.height="1in";b={dpiX:a.offsetWidth,dpiY:a.offsetHeight};document.body.removeChild(a);return b};x.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"a"+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};var E=function(a,b,d,l,h){var f=E.prototype;f.get_ShortName=
function(){return this._440};f.get_FullName=function(){return this._450};f.get_Value=function(){return this._54};f.get_ReadOnly=function(){return this._713};f.get_Items=function(){return this._593};f.get_RefreshFromParent=function(){return this._398};this._440=a;this._450=b;this._54=d;this._713=l;this._593=[];this._398=h?h:!1},U=function(a,c,d,l){function h(a,e){a._54=e._54;a._450=e._450;a._440=e._440;a._713=e._713;a._398=e._398;for(var b=0;b<a._593.length;b++)h(a._593[b],e._593[b])}function f(a,
e){for(;a._593.length>e._593.length;)a._593.splice(a._593.length-1,1);for(;a._593.length<e._593.length;)a._593[a._593.length]=e._593[a._593.length];for(var b=0;b<a._593.length;b++)f(a._593[b],e._593[b])}function e(a,e,b){if(a["set_"+e])a["set_"+e](b);else null!=a[e]&&(a[e]=b)}function k(a,e,m,f){if(b._370(e)){var c=[],d;for(d in e)(null==f?0:-1!==f.indexOf(d))||c.push(d);c.sort();for(d=0;d<c.length;d++){var h=c[d],n="";if(0===h.lastIndexOf("get_",0)&&b.isf(e[h])){var n=h.split("_")[1],l=!0;null!=
e["set_"+n]&&b.isf(e["set_"+n])&&(l=!1);var g;try{g=e[h]()}catch(r){g=null}if(null!=g)if(b._370(g))b.ic(g,HTMLElement)||(p=""!==m?m+"_"+n:n,n=new E(n,p,g,l),a.get_Items().push(n),k(n,g,p,f));else if(!b.isf(g)){var p=""!==m?m+"_"+n:n,n=new E(n,p,g,l);a.get_Items().push(n)}}}if(0===a._593.length&&b._370(e)){d=!0;for(h in e)if(b.isf(e[h])){d=!1;break}h=Object.getOwnPropertyNames(e);g=Array.isArray(e);if(d&&!g)for(d=0;d<h.length;d++)"_"!==h[d][0]&&(p=""!==m?m+"_"+h[d]:h[d],g=e[h[d]],null!=g&&(b._370(g)?
(n=new E(h[d],p,g,!1,!0),a.get_Items().push(n),k(n,g,p,f)):(n=new E(h[d],p,g,!1,!0),a.get_Items().push(n))));else if(g)for(m=a.get_FullName(),l=!1,d=0;d<e.length;d++)n=new E(""+d,m+"_"+d,e[d],l,!0),a.get_Items().push(n),k(n,e[d],m+"_"+d,f)}}}function m(a,e,k,f){var d=e.get_Items();if(d.length!==f._593.length)k.push({property:f,value:e._54,updateMarkup:!0});else{for(var c=!1,h=0;h<d.length;h++){e=d[h];var n=f._593[h];if(e._450!==n._450){k.push({property:f,value:e._54,updateMarkup:!0});c=!0;break}}if(!c)for(h=
0;h<d.length;h++)if(e=d[h],n=f._593[h],e._450!==n._450)k.push({property:n,value:n._54,updateMarkup:!0});else if(n._593.length!==e._593.length)k.push({property:n,value:n._54,updateMarkup:!0});else if(0!=e._593.length)m(a,e,k,n);else if(c=n._54,e._54!=c){n=!0;if(b.ic(e._54,Array)&&b.ic(c,Array))if(e._54.length!=c.length)n=!1;else for(var g=0;g<e._54.length;g++){if(e._54[g]!=c[g]){n=!1;break}}else n=b.isf(e._54.equals)?e._54.equals(c):!1;n||k.push({property:e,value:c})}}}var n=U.prototype;n.get_ObjectProperties=
function(){return this._282};n.setPropertyValue=function(a,b){for(var k=this._217,m=a.split("_"),f=this._282,c=-1,d=0;d<m.length;d++)for(var n=0;n<f._593.length;n++)if(f._593[n]._440===m[d]){f=f._593[n];-1==c||f._398||(c=-1);-1==c&&f._398&&(c=Math.max(d-1,0));break}var h;if(null!=f){n=[];switch(typeof f._54){case "boolean":b="True"===b?!0:!1;break;case "number":b=parseFloat(b)}try{if(1==m.length){var g=m[0];e(k,g,b)}else if(f._398){p=k;for(k=0;k<c;k++)p=Array.isArray(p)&&!isNaN(+m[k])?p[+m[k]]:p["get_"+
m[k]]();for(var l=m[c],r=p["get_"+l](),k=r,d=c+1;d<m.length-1;d++)k=isNaN(+m[d])?k["get_"+m[d]]():k[+m[d]];g=m[m.length-1];k[g]=b;e(p,l,r)}else{for(var p=k,d=0;d<m.length-1;d++)p=Array.isArray(p)&&!isNaN(+m[d])?p[+m[d]]:p["get_"+m[d]]();g=m[m.length-1];e(p,g,b)}n=this.updatePropertyGrid(new U(this._217,"","",this._673))}catch(v){n.push(f),h=v}0===n.length&&f._54!==b&&n.push(f);return{changedProperties:n,exception:h}}};n.updatePropertyGrid=function(a){var e=[],b=[];m(this,this._282,e,a._282);if(0!=
e.length)for(var k=0;k<e.length;k++)e[k].property._54=e[k].value,b.push(e[k].property);f(this._282,a._282);h(this._282,a._282);return b};this._217=a;null==c&&(c="");null==d&&(d="");null!=l&&b.ad(l,b.s);this._673=l;this._282=new E(c,d,a,!1);k(this._282,a,d,l)},A=function(a,c,d,l,h){function f(a,e,k){if(b.iss(a))try{a=JSON.parse(a)}catch(f){}if(d){b.iss(a)&&(a={errorMessage:a});var c=a.responseText;"error"!==e||null!=a.errorMessage||""!==c&&null!=c||(a.errorMessage="Unknown service error OR service is unavailable.");
d(a,e,k)}}function e(a,e,k){if(b.iss(a))try{a=JSON.parse(a)}catch(d){f(a,e,k);return}a.success?c&&c(a,e,k):f(a,e,k)}var k=A.prototype;k.get_ActionName=function(){return this._165};k._81=function(){return this._274};k._90=function(){return this._191};b.s(a);""===a&&b.te("Action name can not be empty.");null!=c&&b.f(c,"Success callback must be defined as function.");null!=d&&b.f(d,"Error callback must be defined as function.");this._191=!0;void 0!==h&&!1===h&&(this._191=!1);this._165=a;this._42=f;this._94=
e;a=g.cloneObject(l);a.success=e;a.error=f;null==a.type&&(a.type="POST");this._274=a},O=function(a,c){var d=O.prototype;d.cre=function(a){};d.crs=function(a){};d._81=function(){var a=this._329;if(0!=a.length){for(var d=a[0]._81(),f=[],e=0;e<a.length;e++)f[e]=a[e]._274.data,f[e].requestId=e+"R";var k=this,m=function(a,e,m){if(b.iss(a))try{a=JSON.parse(a)}catch(f){}if(b._370(a)&&a.length)for(e=0;e<a.length;e++)m=parseInt(a[e].requestId),k._329[m]._42(a[e]);else for(m=a.responseText,"error"!==e||null!=
a.errorMessage||""!==m&&null!=m||(a.errorMessage="Unknown service error OR service is unavailable."),e=0;e<k._329.length;e++)k._329[e]._42(a);k._354=!0;g.suf20(k,"cre")};d.data={requestsData:f};d.success=function(a,e,f){if(b.iss(a))try{a=JSON.parse(a)}catch(d){m(a,e,f);return}for(e=0;e<a.length;e++)f=parseInt(a[e].requestId),k._329[f]._94(a[e]);k._780=!0;g.suf20(k,"crs")};d.error=m;return d}};d._90=function(){return!0};this._165=c;b.ac(a,A);this._329=a;this._354=this._780=!1;delete d.cre;delete d.crs};
g.extend(O,A);var r=function(a){var c=r.prototype;c.get_ServiceRoute=function(){return this._490};c.addRequest=function(a){b.c(a,A);if(0===this._416)return this.sendRequest(a);this._712.push(a)};c.sendRequests=function(){var a=[],b=this._768();if(0!=b.length)for(var c=0;c<b.length;c++)a.push(this.sendRequest(b[c]));for(c=0;c<this._712.length;c++)a.push(this.sendRequest(this._712[c]));this._712=[];return a};c.sendRequest=function(a){b.tne()};c.bi=function(){this._416++};c.ei=function(){this._416--;
0>this._416&&(this._416=0);if(0===this._416)return this.sendRequests()};c._768=function(){for(var a=[],b=0;b<this._712.length;){var c=this._712[b]._165,f=r._571[c];if(null!=f){for(var e=b,k=[];e<this._712.length;)this._712[e]._165===c?(k.push(this._712[e]),this._712.splice(e,1)):e++;a.push(new O(k,f))}else b++}return a};this._490=a;this._416=0;this._712=[]};r.defaultImageService=-1;r._571={};r.rcr=function(a,c){b.s(a,c);""!==a&&""!==c||b.tae();null!=r._571[a]&&b.tae();r._571[a]=c};r.rcr("RenderThumbnail",
"RenderThumbnails");r.rcr("GetImageInfo","GetImagesInfo");var P=function(a){P.superclass.constructor.call(this,a);P.prototype.sendRequest=function(a){var d=a._81(),g=a._90(),h=x._474,f=new XMLHttpRequest;f.open("POST",this._490+"/"+a._165,g);var e=!1;b.ic(d.data,FormData)?null!=h&&d.data.append("sessionId",h):(null!=d.data?(b._370(d.data)&&null!=h&&(d.data.sessionId=h),d.data=JSON.stringify(d.data)):null!=h&&(d.data=JSON.stringify(h)),f.setRequestHeader("Content-type","application/json"));f.onreadystatechange=
function(){if(4==f.readyState)if(200==f.status){var a=JSON.parse(f.responseText);d.success(a,"success")}else e||(e=!0,d.error(f.responseText,"error"))};f.onerror=function(){e||(e=!0,d.error(f.responseText,"error"))};f.send(d.data);return{request:a,object:f}}};g.extend(P,r);var Q=function(a){Q.superclass.constructor.call(this,a);Q.prototype.sendRequest=function(a){var d=a._81(),g=new XMLHttpRequest;g.open("POST",this._490,!0);var h=!1,f=x._474,e=d.data;b.ic(e,FormData)?(e.append("action",a._165),null!=
f&&e.append("sessionId",f)):(e=new FormData,e.append("action",a._165),null!=d.data?(d.data.sessionId=f,e.append("requestParams",JSON.stringify(d.data))):e.append("requestParams",f));g.onreadystatechange=function(){if(4==g.readyState)if(200==g.status){var a=JSON.parse(g.responseText);d.success(a,"success")}else h||(h=!0,d.error(g.responseText,"error"))};g.onerror=function(){h||(h=!0,d.error(g.responseText,"error"))};g.send(e);return{request:a,object:g}}};g.extend(Q,r);var p=function(a,c,d){var l=p.prototype;
l.changed=function(a){};l.get_Type=function(){return"Image"};l.get_Resolution=function(){return{x:this._448.x,y:this._448.y}};l.set_Resolution=function(a){if(null==a)throw Error("Parameter 'value' cannot be null.");if(null==a.x)throw Error("Field 'value.y' cannot be null.");if(null==a.y)throw Error("Field 'value.y' cannot be null.");b.p(a);(0>=a.x||0>=a.y)&&b.te("Resolution cannot be equal or less than 0.");var f=this._448;if(f.x!==a.x||f.y!==a.y)this._448=a,this.fce("Resolution")};l.get_InterpolationMode=
function(){return this._665};l.set_InterpolationMode=function(a){a=b.e(a,K);a.equals(this._665)||(this._665=a,this.fce("InterpolationMode"))};l.get_SmoothingMode=function(){return this._202};l.set_SmoothingMode=function(a){a=b.e(a,L);a.equals(this._202)||(this._202=a,this.fce("SmoothingMode"))};l.clone=function(){return new this.constructor(this._448,this._665,this._202)};l.equals=function(a){return b.ic(a,p)&&this.constructor===a.constructor?this._522(a):!1};l.isEmpty=function(){return this.equals(new p)};
l.beginInit=function(){this._604||this._171||(this._171=!0,this._389=this.clone())};l.endInit=function(){if(!this._604&&this._171&&(this._171=!1,null!=this._389)){var a=this.gcn(this._389);0!==a.length&&(this._389=null,this._412(a))}};l.toObject=function(){return this._103()};l.iai=function(a,b){var e=a._178._125;if(null==e)return 0;if("Pdf"===e||"Docx"===e){null==b&&(b=this.gcn(new p));if(-1!==b.indexOf("Resolution"))return 2;if(-1!==b.indexOf("InterpolationMode")||-1!==b.indexOf("SmoothingMode"))return 1}return 0};
l.fce=function(a){b.iss(a)&&(a=[a]);this._171||this._412(a)};l.gcn=function(a){var b=[];this._448.x===a._448.x&&this._448.y===a._448.y||b.push("Resolution");this._665.equals(a._665)||b.push("InterpolationMode");this._202.equals(a._202)||b.push("SmoothingMode");return b};l.gsi=function(a){return this};l._522=function(a){return this._448.x===a._448.x&&this._448.y===a._448.y&&this._665.equals(a._665)&&this._202.equals(a._202)};l._103=function(){return{resolution:this._448,interpolationMode:this._665.valueOf(),
smoothingMode:this._202.valueOf()}};l._412=function(a){g.suf20(this.evm,"changed",{obj:this,properties:a});g.suf20(this,"changed")};null==a&&(a={x:0,y:0});b.p(a);this._448={x:a.x,y:a.y};null==c&&(c=6);this._665=b.e(c,K);null==d&&(d=4);this._202=b.e(d,L);this._171=!1;this._389=null;this._604=!1;this.evm={};delete l.changed},I=function(a,c,d){var g=I.prototype,h=I.superclass;h.constructor.call(this,a,c,d);this._279=!0;g.get_Type=function(){return"Pdf"};g.get_DrawNonMarkupAnnotations=function(){return this._279};
g.set_DrawNonMarkupAnnotations=function(a){b.b(a);this._279!==a&&(this._279=a,this.fce("DrawNonMarkupAnnotations"))};g.clone=function(){var a=h.clone.call(this);a._279=this._279;return a};g.equals=function(a){return this===a?!0:h.equals.call(this,a)?this._279===a._279:!1};g.isEmpty=function(){return this.equals(new I)};g.toObject=function(){var a=h.toObject.call(this);a.additionalProperties=JSON.stringify({drawNonMarkupAnnotations:this._279});return a};g.gcn=function(a){var e=h.gcn.call(this,a);this._279!==
a._279&&e.push("DrawNonMarkupAnnotations");return e};g.iai=function(a,e){var b=a.get_DecoderName();if(null==b)return 0;var m=h.iai.call(this,a,e);return 0<m?m:"Pdf"===b&&(null==e&&(e=this.gcn(new I)),-1!==e.indexOf("DrawNonMarkupAnnotations"))?1:0}};g.extend(I,p);var J=function(a){function c(a,e){var b=f,c={obj:e.obj,properties:e.properties};b._501?b._501.push(c):b._412([c])}var d=J.prototype,g=J.superclass,h=[];b.ad(a,function(a){b.c(a,p);b.ic(a,J)&&b.te("Composite rendering settings can not contain other composite rendering settings.");
a=a.constructor;-1!==h.indexOf(a)&&b.te("Composite rendering settings can contain only unique settings.");h.push(a)});g.constructor.call(this);this._771=a;for(var f=this,e=0;e<a.length;e++)v.Shared.suf21(a[e].evm,"changed",c);this._501=null;d.get_Settings=function(){return this._771.slice()};d.set_Resolution=function(a){if(null==a)throw Error("Parameter 'value' cannot be null.");if(null==a.x)throw Error("Field 'value.y' cannot be null.");if(null==a.y)throw Error("Field 'value.y' cannot be null.");
b.p(a);var e=!1;this._171||(this.beginInit(),e=!0);this._448=a;for(var f=0;f<this._771.length;f++)this._771[f].set_Resolution(a);e&&this.endInit()};d.set_InterpolationMode=function(a){a=b.e(a,K);var e=!1;this._171||(this.beginInit(),e=!0);this._665=a;for(var f=0;f<this._771.length;f++)this._771[f].set_InterpolationMode(a);e&&this.endInit()};d.set_SmoothingMode=function(a){a=b.e(a,L);var e=!1;this._171||(this.beginInit(),e=!0);this._202=a;for(var f=0;f<this._771.length;f++)this._771[f].set_SmoothingMode(a);
e&&this.endInit()};d.beginInit=function(){if(!this._171){this._171=!0;for(var a=this._771,e=0;e<a.length;e++)a[e].beginInit(),a[e]._604=!0}};d.endInit=function(){if(this._171){this._501=[];this._171=!1;for(var a=this._771,e=0;e<a.length;e++)a[e]._604=!1,a[e].endInit();0!=this._501.length&&this._412(this._501);this._501=null}};d.clone=function(){for(var a=[],e=this._771,f=0;f<e.length;f++)a.push(e[f].clone());a=new J(a);e=this._448;a._448={x:e.x,y:e.y};a._665=b.e(this._665,K);a._202=b.e(this._202,
L);return a};d.equals=function(a){if(!g.equals.call(this,a))return!1;var e=this._771;a=a._771;if(e.length!=a.length)return!1;for(var b=0;b<e.length;b++)if(!e[b].equals(a[b]))return!1;return!0};d.isEmpty=function(){for(var a=0;a<this._771.length;a++)if(!this._771[a].isEmpty())return!1;return!0};d.toObject=function(){for(var a=g.toObject.call(this),e=[],b=0;b<this._771.length;b++)e.push(this._771[b].toObject());a.additionalProperties=JSON.stringify({settings:e});return a};d.gcn=function(a){var e=[],
b=this._771;a=a._771;for(var f=Math.min(b.length,a.length),c=0;c<f;c++)if(b[c].constructor===a[c].constructor){var d=b[c].gcn(a[c]);0<d.length&&e.push({obj:b[c],properties:d})}else e.push({obj:b[c],properties:null});if(b.length>f)for(c=f;c<b.length;c++)e.push({obj:b[c],properties:null});return e};d.iai=function(a,e){var b=this.gsi(a);if(null==b)return 0;if(null!=e){for(var f=0;f<e.length;f++){var c=e[f],d=c.obj;if(d===b&&(e=c.properties,c=d.iai(a,e),0<c))return c}return 0}return b.iai(a)};d.gsi=function(a){var e=
this._771,b=null,b=null!=a._178?a._178._125:a._125;a=null;for(var f=0;f<e.length;f++)if("Image"===e[f].get_Type()){a=e[f];break}var c=[];if(null==a)c=e;else for(f=0;f<e.length;f++)e[f]!==a&&c.push(e[f]);if(null!==b)for(f=0;f<c.length;f++){if(c[f].get_Type()===b)return c[f]}else if(0<c.length)return c[0];return null!=a?a:c[0]}};g.extend(J,p);var R=function(a,b){var d=R.prototype;d.get_Id=function(){return this._434};d.get_Password=function(){return this._679};this._434=a;this._679=void 0==b?"":b},
D=function(){var a=D.prototype;a.changed=function(a){};a.get_IsColorManagementEnabled=function(){return this._107};a.set_IsColorManagementEnabled=function(a){b.b(a);this._107!==a&&(this._107=a,g.suf20(this,"changed"),g.suf20(this._78,"changed"))};a.clone=function(){var a=new this.constructor;a._107=this._107;return a};a.equals=function(a){return b.ic(a,D)?this._107===a._107:!1};a.toObject=function(){return this._103()};a._103=function(){return{isColorManagementEnabled:this._107}};this._107=!0;this._78=
{};delete a.changed},M=function(a,c,d){function g(a,e){null==e||e.isEmpty()||(a.renderingSettings=e.toObject())}function h(a,e){null!=e&&(a.decodingSettings=e.toObject())}this._717=a;null==c&&(c=r.defaultImageService);-1!==c&&b.c(c,r,"You should specify correct image service OR define the default image service.");this._210=c;null==d&&(d=r.defaultAnnotationService);null!=d&&(b.c(d,r,"You should specify correct annotation service OR define the default annotation service"),this._537=d);this._679=this._125=
null;a=M.prototype;a.get_ImageId=function(){return this._717};a.get_ImageService=function(){b.c(this._210,r,"Image service is not an instance of WebServiceJS class.");return this._210};a.get_AnnotationService=function(){b.c(this._537,r,"Image annotating service is not an instance of WebServiceJS class.");return this._537};a.get_Password=function(){return this._679};a.set_Password=function(a){null!=a&&b.s(a);this._679!==a&&(this._679=a)};a.equals=function(a){if(this===a)return!0;if(!b.ic(a,M)||this._717!==
a._717)return!1;var e=this._210,k=a._210,c=this._537;a=a._537;c=c===a||null!=c&&null!=a&&c._490===a._490;return(e===k||-1!==e&&-1!==k&&e._490===k._490)&&c};a._169=function(a,e,k,c,d){b.n(a);null!=e&&b.c(e,p);null!=k&&b.c(k,D);var u={};u.imageInfo={fileInfo:{id:this._717,password:this._679},pageIndex:a};g(u,e);h(u,k);var t=this;a=new A("GetImageInfo",function(a){null==t._125&&null!=a.decoderName&&(t._125=a.decoderName);c&&c(a)},d,{data:u});return this.get_ImageService().addRequest(a)};a._754=function(a,
e,k,c,d,u,t,w,y){d=b.e(d,F);b.n(a,e,k);b.b(c);null!=u&&b.c(u,p);null!=t&&b.c(t,D);var q={};q.imageInfo={fileInfo:{id:this._717,password:this._679},pageIndex:a};q.thumbnailSize={width:e,height:k};q.imageType=d.valueOf();q.useCache=c;g(q,u);h(q,t);var s=this;a=new A("RenderThumbnail",function(a){null==s._125&&null!=a.decoderName&&(s._125=a.decoderName);w&&w(a)},y,{data:q});this.get_ImageService().addRequest(a)};a._439=function(a,e,k,c,d,u,t,w,y,q,s,C,r,v){q=b.e(q,F);b.n(a,e,k,c,d);b.b(w,y);b.p(u);null!=
s&&b.c(s,p);null!=C&&b.c(C,D);var z={};z.imageInfo={fileInfo:{id:this._717,password:this._679},pageIndex:a};z.tileSize={width:c,height:d};z.imagePoint={x:e,y:k};z.scale=u;z.useVectorRendering=t;z.useCache=w;z.renderNeighbourTiles=y;z.imageType=q.valueOf();g(z,s);h(z,C);a=new A("RenderImageTile",r,v,{data:z});return this.get_ImageService().sendRequest(a)};a._127=function(a,e,k,c,d,u,t,w,y){d=b.e(d,F);b.n(a,e,k);b.p(c);null!=u&&b.c(u,p);null!=t&&b.c(t,D);var q={};q.imageInfo={fileInfo:{id:this._717,
password:this._679},pageIndex:a};q.tileSize={width:e,height:k};q.scale=c;q.imageType=d.valueOf();g(q,u);h(q,t);a=new A("RenderImageTiles",w,y,{data:q});return this.get_ImageService().sendRequest(a)};a._209=function(a,e,k,c,d){b.n(a);null!=e&&b.c(e,p);null!=k&&b.c(k,D);var u={};u.imageInfo={fileInfo:{id:this._717,password:this._679},pageIndex:a};g(u,e);h(u,k);a=new A("GetImageAsBase64String",c,d,{data:u});return this.get_ImageService().sendRequest(a)}},B=function(a,c){function d(a){v.Shared.suf21(a._636.evm,
"changed."+a._499,function(b,c){var d=a._636.iai(a,c.properties);0<d&&a.ci("rsc",2===d?!0:!1);g.suf20(a,"renderingSettingsChanged",void 0)})}function l(a){null!=a._569&&v.Shared.suf21(a._569._78,"changed."+a._499,function(){h(a,!0)})}function h(a,b){b&&a.ci("dsc",!1);g.suf20(a,"decodingSettingsChanged",void 0)}var f=B.prototype;f.renderingSettingsChanged=function(a){};f.decodingSettingsChanged=function(a){};f.icd=function(a,b){};f.get_ImageId=function(){return this._178._717};f.get_Size=function(){return null==
this._86||null==this._41?null:{width:this._86,height:this._41}};f.get_Resolution=function(){return null==this._40||null==this._327?null:{x:this._40,y:this._327}};f.get_PixelFormat=function(){return this._267};f.get_Source=function(){return this._178};f.get_PageIndex=function(){return this._162};f.get_IsVector=function(){return this._352};f.get_RenderingSettings=function(){return this._636};f.set_RenderingSettings=function(a){b.c(a,p);var k=this._636;if(!this._636.equals(a)&&(v.Shared.suf33(this._636.evm,
this._499),this._636=a,d(this),!k.isEmpty()||!a.isEmpty())){k=k.gsi(this);a=a.gsi(this);var c=0;if(k.constructor===a.constructor)var f=a.gcn(k),c=a.iai(this,f);else{var h=k.iai(this),t=a.iai(this);if(h!==t)c=Math.max(h,t);else if(0!==t){var h=k.gcn(new k.constructor),w=a.gcn(new a.constructor);if(h.length!==w.length)c=t;else{for(var l=!1,q=0;q<h.length;q++){var s=h[q];if(-1===w.indexOf(s)){c=t;l=!0;break}else{var C=k["get_"+s](),s=a["get_"+s]();if(b._370(C))if(b.ic(C,G)){if(!C.equals(s)){c=t;l=!0;
break}}else for(f in C){if(C[f]!==s[f]){c=t;l=!0;break}}else if(C!==s){c=t;l=!0;break}}}l||(c=0)}}}0<c&&this.ci("rsc",2===c?!0:!1);g.suf20(this,"renderingSettingsChanged",void 0)}};f.get_DecodingSettings=function(){return this._569};f.set_DecodingSettings=function(a){null!=a&&b.c(a,D);if(!(null!=this._569&&this._569.equals(a)||null==this._569&&null==a)){null!=this._569&&v.Shared.suf33(this._569._78,this._499);var k=this._569;this._569=a;l(this);h(this,null==k&&a._107||null==a&&k._107||null!=k&&null!=
a)}};f.get_Guid=function(){return this._499};f.get_IsBad=function(){return this._34};f.get_Metadata=function(){null==v.Imaging&&b.te("'Vintasoft.Imaging.Html5.js' script is not found.");null==this._71&&(this._71=new v.Imaging.WebImageMetadataJS(this));return this._71};f.get_DecoderName=function(){return this._178._125};f.equals=function(a){return this===a?!0:b.ic(a,B)?a._162===this._162&&this._178.equals(a._178):!1};f.renderTile=function(a,b,c){this._452(a,!1,b,c)};f.renderTileWithNeighbours=function(a,
b,c){a.useCache=!0;this._452(a,!0,b,c)};f.renderTiles=function(a,k,c){null!=a&&b._370(a)||b.te("The tiles rendering settings cannot be empty.");var d=a.width,f=a.height,g=a.scale;null==g&&(g={x:1,y:1});var h=a.format;null==h&&(h=new F(1));var l=a.renderingSettings;null==l&&(l=this._636);var q=a.decodingSettings;null==q&&(q=this._569);var s=this;return this._178._127(this._162,d,f,g,h,l,q,function(a){a.image=s;a.renderingSettings=l;a.decodingSettings=q;k&&k(a)},function(a){a.image=s;a.renderingSettings=
l;a.decodingSettings=q;a.blocked||(s._34=!0);c&&c(a)})};f.renderThumbnail=function(a,c,d){function f(a){a.image=p;a.width=g;a.height=h;a.renderingSettings=q;a.decodingSettings=s}null!=a&&b._370(a)||b.te("The thumbnail rendering settings cannot be empty.");var g=a.width,h=a.height,w=a.format;null==w&&(w=new F(1));var l=a.useCache;null==l&&(l=!0);var q=a.renderingSettings;null==q&&(q=this._636);var s=a.decodingSettings;null==s&&(s=this._569);var p=this;this._178._754(this._162,g,h,l,w,q,s,function(a){f(a);
null!=a.imageParam&&p._141(a.imageParam);c&&c(a)},function(a){f(a);null!=a.imageParam&&1!=a.isTimeoutReached&&p._141(a.imageParam);a.blocked||(p._34=1==a.isTimeoutReached?!1:!0);d&&d(a)})};f.getImageInfo=function(a,b){function c(a){a.image=g;a.renderingSettings=d;null!=f&&(a.decodingSettings=f)}var d=this._636,f=this._569,g=this;return this._178._169(this._162,this._636,this._569,function(b){c(b);g._141(b);a&&a(b)},function(a){c(a);g._141(a);a.blocked||(g._34=!0);b&&b(a)})};f.getImageAsBase64String=
function(a,b){function c(a){a.image=d;a.renderingSettings=f;null!=g&&(a.decodingSettings=g)}var d=this,f=this._636,g=this._569;return this._178._209(this._162,f,g,function(b){c(b);a&&a(b)},function(a){c(a);a.blocked||(d._34=!0);b&&b(a)})};f.cto=function(){return{fileInfo:{id:this._178._717,password:this._178._679},pageIndex:this._162}};f.csto=function(){var a={},b=this._636;null==b||b.isEmpty()||b.iai(this)&&(a.renderingSettings=b.toObject());null!=this._569&&(a.decodingSettings=this._569.toObject());
return a};f.gi=function(){return this._531};f.ci=function(a,b,c){null==a&&(a="dc");null==b&&(b=!0);null==c&&(c=b);this._531=x.guid();b&&(this._327=this._40=this._41=this._86=null,this._34=!1);g.suf20(this.evm,"icd",{i:this,d:a,idc:b,imc:c})};f.sm=function(a){null!=this._71&&b.te("Image already has metadata object. Use 'get_Metadata' property.");this._71=a};f._452=function(a,c,d,f){function g(a){a.image=B;a.pos={x:h,y:l};a.size={width:y,height:q};a.scale=s;a.renderingSettings=z;a.decodingSettings=
x}null!=a&&b._370(a)||b.te("The tile rendering settings cannot be empty.");var h=a.x;null==h&&(h=0);var l=a.y;null==l&&(l=0);var y=a.width,q=a.height,s=a.scale;null==s&&(s={x:1,y:1});var p=a.useCache;null==p&&(p=!0);var r=a.useVectorRendering;null==r&&(r=!1);var v=a.format;null==v&&(v=new F(1));var z=a.renderingSettings;null==z&&(z=this._636);var x=a.decodingSettings;null==x&&(x=this._569);var A=a=Infinity;null!=this._86&&0!==this._86&&0!==this._41&&(a=this._86,A=this._41);(0>h||h>=a||0>l||l>=A)&&
b.te("Tile must have coordinates inside the image.");var B=this;return this._178._439(this._162,h,l,y,q,s,r,p,c,v,z,x,function(a){g(a);d&&d(a)},function(a){g(a);a.blocked||(B._34=!0);f&&f(a)})};f._141=function(a){if(null==this._86||null==this._41||null==this._40||null==this._327){var b=a.imageSize,c=a.imageResolution;if(null!=b&&null!=c){this._86=+b.width;this._41=+b.height;this._40=+c.width;this._327=+c.height;this._352=a.isVector;try{this._267=new T(a.pixelFormat)}catch(d){this._267=new T(0)}if(0===
this._86||0===this._41)this._34=!0}}a.pixelFormat=this._267};b.c(a,M);b.n(c);this._178=a;this._162=c;this._499=x.guid();this._531=x.guid();this._636=new p;d(this);this._71=this._569=null;this.evm={};this._352=this._267=this._327=this._40=this._41=this._86=null;this._34=!1;delete f.decodingSettingsChanged;delete f.renderingSettingsChanged;delete f.icd};r.defaultImageCollectionService=-1;var S=function(){function a(a){b.c(a,r,"Image collection service is not correct.")}function c(a){for(var b=a.files,
c=[],d=[],f=0;f<b.length;f++)for(var g=b[f].pageCount,h=0;h<g;h++){var l=b[f].id,q=c[l];null==q&&(q=new M(l),c[l]=q,q.set_Password(b[f].password));d.push(new B(q,h))}a.images=d}function d(a,c){var d={};b.ad(c,function(c){b.n(c);(0>c||c>=a._145.length)&&b.toe();null==d[c]&&(d[c]=1)});var f=[],g;for(g in d)f.push(+g);return f}function l(a,c,d){var f=!1,g=!1,h=!1;for(null==d._178._537&&(h=!0);c<a.length;c++){var l=a[c],y;a:{y=l;var q=d,s=!f;if(y._178.equals(q._178)&&(y._162===q._162&&b.te("Image already exists in collection."),
s)){q._178=y._178;q._178._210=y._178._210;q._178._537=y._178._537;y=!0;break a}y=!1}y&&(h=g=f=!0);g||d._178._210._490!==l._178._210._490||(d._178._210=l._178._210,g=!0);h||null==l._178._537||d._178._537._490!==l._178._537._490||(d._178._537=l._178._537,h=!0)}}function h(a,b){if(null==a._732){a._732={};for(var c=0;c<a._145.length;c++){var d=a._145[c].get_Guid();a._732[d]=c}}c=a._732[b];return null==c?-1:c}var f=S.prototype;f.changing=function(a,b){};f.changed=function(a,b){};f.get_Count=function(){return this._145.length};
f.getImage=function(a){b.n(a);if(0<=a&&a<this._145.length)return this._145[a];b.toe()};f.indexOf=function(a){b.iss(a)||b.c(a,B);a=b.iss(a)?a:a._499;return h(this,a)};f.clear=function(){if(0!==this._145.length){var a={actionName:"clear",images:this.toArray()};this._647(a);this._145=[];this._732={};this._402(a)}};f.add=function(a){b.c(a,B);var c=this._145.length;if(0<=c&&c<=this._145.length){l(this._145,0,a);var d={actionName:"insert",imageIndex:c,image:a};this._647(d);this._145.splice(c,0,a);this._732[a.get_Guid()]=
c;this._402(d)}else b.toe()};f.addRange=function(a){var c=!0;b.ic(a,S)&&(a=a._145,c=!1);c&&b.ac(a,B);c=this._145.length;if(0<=c&&c<=this._145.length){var d=a.length;if(0<this._145.length)for(var f=a.concat(this._145),d=d-1;0<=d;d--)l(f,d+1,a[d]);f={actionName:"insertRange",imageIndex:c,images:a};this._647(f);a=f.images;for(d=0;d<a.length;d++){var g=a[d];this._145.splice(c+d,0,g);this._732[g.get_Guid()]=c+d}this._402(f)}else b.toe()};f.insert=function(a,c){b.n(a);b.c(c,B);if(0<=a&&a<=this._145.length){l(this._145,
0,c);var d={actionName:"insert",imageIndex:a,image:c};this._647(d);this._145.splice(a,0,c);this._732=null;this._402(d)}else b.toe()};f.insertRange=function(a,c){var d=!0;b.ic(c,S)&&(c=c._145,d=!1);b.n(a);d&&b.ac(c,B);if(0<=a&&a<=this._145.length){var f=c.length;if(0<this._145.length)for(d=c.concat(this._145),--f;0<=f;f--)l(d,f+1,c[f]);d={actionName:"insertRange",imageIndex:a,images:c};this._647(d);c=d.images;for(f=0;f<c.length;f++)this._145.splice(a+f,0,c[f]);this._732=null;this._402(d)}else b.toe()};
f.removeAt=function(a){b.n(a);if(0<=a&&a<this._145.length&&0!=this._145.length){var c={actionName:"removeAt",imageIndex:a,image:this._145[a]};this._647(c);this._732=null;this._145.splice(a,1);this._402(c)}else b.toe()};f.remove=function(a){b.c(a,B);a=h(this,a._499);-1!==a?this.removeAt(a):b.te("Image does not exist.")};f.removeImages=function(a){var c=[],d=this;b.ad(a,function(a){b.c(a,B);a=h(d,a._499);-1!==a?c.push(a):b.te("Image does not exist.")});this.removeRange(c)};f.removeRange=function(a){a=
d(this,a);for(var b=[],c=0;c<a.length;c++)b.push(this._145[a[c]]);b={actionName:"removeRange",imagesIndexes:a,images:b};this._647(b);for(c=a.length-1;0<=c;c--)this._145.splice(a[c],1);this._732=null;this._402(b)};f.set=function(a,c){b.n(a);b.c(c,B);if(0<=a&&a<this._145.length&&0!=this._145.length){var d={actionName:"set",imageIndex:a,image:c,previousImage:this._145[a]};this._647(d);this._264=!1;this.removeAt(a);this.insert(a,c);this._264=!0;this._402(d)}else b.toe()};f.toArray=function(){return this._145.slice()};
f.setRenderingSettings=function(a){b.c(a,p);for(var c=0;c<this._145.length;c++)this._145[c].set_RenderingSettings(a.clone())};f.setDecodingSettings=function(a){null!=a&&b.c(a,D);if(null!=a)for(var c=0;c<this._145.length;c++)this._145[c].set_DecodingSettings(a.clone());else for(c=0;c<this._145.length;c++)this._145[c].set_DecodingSettings()};f.getImageFilesInfos=function(e,d,f,g){Array.isArray(e)||b.te("The fileIds parameter must be an array");for(var h=!0,l=0;l<e.length;l++)b.iss(e[l])||(h=!1);if(h)for(h=
[],l=0;l<e.length;l++)h.push({id:e[l],password:""});else for(h=[],l=0;l<e.length;l++)void 0==e[l].get_Id()&&b.te("File identifier is not defined"),h.push({id:e[l].get_Id(),password:e[l].get_Password()});e=h;l=r.defaultImageCollectionService;null!=g?l=g:b.ic(d,r)&&(l=d);a(l);e=new A("GetImageFileInfo",function(a,e,f){c(a);b.isf(d)&&d(a,e,f)},f,{data:{fileIds:e}});return l.sendRequest(e)};f.openFile=function(a,c,d,f){b.iss(a)?a=new R(a,""):(void 0==a.get_Id()&&b.te("File identifier is not defined"),
b.iss(a.get_Id())||b.te("File identifier is not a string"));return this.openFiles([a],function(a,e,d){b.isf(c)&&c(a,e,d)},d,f)};f.openFiles=function(a,c,d,f){Array.isArray(a)||b.te("The fileIds parameter must be an array");for(var g=!0,h=0;h<a.length;h++)b.iss(a[h])||(g=!1);if(g){g=[];for(h=0;h<a.length;h++)g.push(new R(a[h],""));a=g}else for(h=0;h<a.length;h++)void 0==a[h].get_Id()&&b.te("File identifier is not defined");b.ic(c,r)&&(f=c);var l=this;return this.getImageFilesInfos(a,function(a,e,d){l.clear();
l.addRange(a.images);b.isf(c)&&c(a,e,d)},d,f)};f.saveState=function(b,c,d){null==d&&(d=r.defaultImageCollectionService);a(d);for(var f=this.toArray(),g=[],h=0;h<f.length;h++){var l=f[h].get_Source();g.push({imageId:l._717,pageIndex:f[h]._162})}b=new A("SaveState",b,c,{data:{imageInfos:g}});return d.sendRequest(b)};f.loadState=function(d,f,g){null==g&&(g=r.defaultImageCollectionService);a(g);f=new A("LoadState",function(a,f,g){c(a);b.isf(d)&&d(a,f,g)},f,{data:{}});return g.sendRequest(f)};f._647=function(a){this._264&&
(g.suf20(this.evm,"changing",a),g.suf20(this,"changing",a))};f._402=function(a){this._264&&(g.suf20(this.evm,"changed",a),g.suf20(this,"changed",a))};this._145=[];this.evm={};this._264=!0;this._732={};delete f.changing;delete f.changed},V=function(){var a=V.prototype;this._195={};a.setData=function(a,d){b.s(a);null!=d?this._195[a]=d:delete this._195[a]};a.getData=function(a){b.s(a);return this._195[a]};a.clear=function(){this._195={}};a.contains=function(a){b.s(a);return null!=this._195[a]}},W=function(){function a(a,
b){var d=b.getAttribute(p);""!==d&&(d=a.getLocalizationInfo(d),null!=d&&c(b,d,a))}function c(b,e,f){var g=e.text;null!=g&&(b.textContent=g);g=e.title;null!=g&&(b.title=g);g=e.alt;null!=g&&(b.alt=g);g=e.value;null!=g&&(b.value=g);e=e.items;b=d(b);if(null!=e)for(g=0;g<b.length;g++){var h=b[g],k=h.getAttribute(p),k=e[k];null!=k&&c(h,k,f)}else for(g=0;g<b.length;g++)a(f,b[g])}function d(a){var b="["+p+"]";if(null==a){var b=document.querySelectorAll(b),b=Array.prototype.slice.call(b),c=[];b.forEach(function(a){0==
g.suf37(a,p).length&&c.push(a)})}else b=a.querySelectorAll(b),b=Array.prototype.slice.call(b),c=[],b.forEach(function(b){for(var d=g.suf37(b,p),e=d.length-1;0<=e;)if(d[e]!==a)e--;else break;d.splice(e,d.length-e);0==d.length&&c.push(b)});return c}function l(a){a._45||b.te("Localization dictionary is not available.")}function h(a,b){var c=new XMLHttpRequest;c.overrideMimeType&&c.overrideMimeType("text/plain");c.onreadystatechange=function(){4===c.readyState&&(200===c.status||0===c.status?b(c.responseText):
m("Not found: "+a))};c.open("GET",a);c.send("")}function f(a,b){var c=e(a);a:{for(var d=0;d<b.length;d++)if(b[d]===c){c=b[d];break a}c=null}return null!=c?c:b[0]}function e(a){a=a.toLowerCase();var b=a.indexOf("-");return 0<b?a.substring(0,b):a}function k(a,b){h(b,function(c){function d(b){var c=!1;try{a._284=JSON.parse(b)}catch(e){m("Cannot parse the localization dictionary file."),c=!0}c||(a._45=!0,g.suf20(a,"ready"))}var k;try{k=JSON.parse(c)}catch(l){m("Cannot parse the localization settings file.");
return}c=k.locales;if(null==c||0===c.length)m("The localization settings file does not contain information about locales.");else{for(k=0;k<c.length;k++)c[k]=e(c[k]);c=f(navigator.language||navigator.browserLanguage,c);c=b.split("/").slice(0,-1).concat(c+".txt").join("/");h(c,d)}})}function m(a){console.error?console.error(a):console.log("ERROR: "+a)}var n=W.prototype;n.ready=function(a){};n.get_IsReady=function(){return this._45};n.getLocalizationInfo=function(a){l(this);return this._284[a]};n.localizeDocument=
function(){l(this);for(var b=d(),c=0;c<b.length;c++)a(this,b[c])};var p="localizationId";this._45=!1;this._284=null;(function(a){var b=document.head.querySelector("link[rel='localization']");b?k(a,b.href):m("Localization settings are not found. Please add 'link' element to your page for specifying how to find localization settings: '<link rel='localization' href='/locales/settings.json'>'")})(this)};g.WebPixelFormatEnumJS=T;g.WebInterpolationModeEnumJS=K;g.WebSmoothingModeEnumJS=L;g.WebImageTypeEnumJS=
F;g.pv=b;g.WebImagingEnviromentJS=x;g.EnumGenerator=H;g.WebEnumItemBaseJS=G;g.WebFlagsEnumItemBaseJS=N;g.WebPropertyInfoJS=E;g.WebPropertyGridJS=U;g.WebRequestJS=A;g.WebCompositeRequestJS=O;g.WebServiceJS=r;g.WebServiceControllerJS=P;g.WebServiceHandlerJS=Q;g.WebFileInfoJS=R;g.WebDecodingSettingsJS=D;g.WebRenderingSettingsJS=p;g.WebPdfRenderingSettingsJS=I;g.WebCompositeRenderingSettingsJS=J;g.WebImageSourceJS=M;g.WebImageJS=B;g.WebImageCollectionJS=S;g.WebObjectClipboardJS=V;g.VintasoftLocalizationJS=
W})(v.Shared||(v.Shared={}))})(Vintasoft||(Vintasoft={}));
